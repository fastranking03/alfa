<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Products</title>
    <base href="http://localhost:8081" target="" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <h1>Add Products</h1>
    <form action="admin/addProducts" method="POST">
      <input
        type="hidden"
        id="productType"
        name="productType"
        value="<%= weartype %>"
      />
      <p>Product Type: <%= weartype.replace('_', ' ').toUpperCase() %></p>

      <label for="category_id">Category ID:</label>
      <input type="number" name="category_id" required />
      <label for="subcategory_id">Subcategory ID:</label>
      <input type="number" name="subcategory_id" value="1" required />

      <hr />

      <div id="products">
        <!-- Product Details Common to All Products -->
        <div class="product">
          <label>Product Name:</label>
          <input type="text" name="common_product_name" required />
          <label>Product Title:</label>
          <input type="text" name="common_product_title" required />
          <label>Product Description:</label>
          <input type="text" name="common_product_description" required />
          
        </div>
      </div>

      <hr />

      <h2>Products</h2>
      <div id="products">
        <div class="product">
          <div class="product">
            <p>Products Details:</p>
            <label>MRP:</label>
            <input type="text" name="product_mrp[]" required />
            <label>Discount:</label>
            <input type="text" name="product_discount[]" required />
            <label>Image URL:</label>
            <input type="text" name="product_image[]" required />
            <label>Product colour:</label>
            <input type="text" name="product_colour[]" required />
 

            <div class="size">
              <p>Size Details:</p>
              <% if (weartype === 'top') { %>
              <label>Size XS:</label>
              <input
                type="number"
                name="size_xs[]"
                value="0"
                min="0"
                required
              />
              <label>Size S:</label>
              <input type="number" name="size_s[]" value="0" min="0" required />
              <label>Size M:</label>
              <input type="number" name="size_m[]" value="0" min="0" required />
              <label>Size L:</label>
              <input type="number" name="size_l[]" value="0" min="0" required />
              <label>Size XL:</label>
              <input
                type="number"
                name="size_xl[]"
                value="0"
                min="0"
                required
              />
              <label>Size XXL:</label>
              <input
                type="number"
                name="size_xxl[]"
                value="0"
                min="0"
                required
              />
              <label>Size XXXL:</label>
              <input
                type="number"
                name="size_xxxl[]"
                value="0"
                min="0"
                required
              />
              <label>Size XXXXL:</label>
              <input
                type="number"
                name="size_xxxxl[]"
                value="0"
                min="0"
                required
              />
              <% } else if (weartype === 'bottom') { %>
              <label>Size 28:</label>
              <input
                type="number"
                name="size_28[]"
                value="0"
                min="0"
                required
              />
              <label>Size 30:</label>
              <input
                type="number"
                name="size_30[]"
                value="0"
                min="0"
                required
              />
              <label>Size 32:</label>
              <input
                type="number"
                name="size_32[]"
                value="0"
                min="0"
                required
              />
              <label>Size 34:</label>
              <input
                type="number"
                name="size_34[]"
                value="0"
                min="0"
                required
              />
              <label>Size 36:</label>
              <input
                type="number"
                name="size_36[]"
                value="0"
                min="0"
                required
              />
              <label>Size 38:</label>
              <input
                type="number"
                name="size_38[]"
                value="0"
                min="0"
                required
              />
              <label>Size 40:</label>
              <input
                type="number"
                name="size_40[]"
                value="0"
                min="0"
                required
              />
              <label>Size 42:</label>
              <input
                type="number"
                name="size_42[]"
                value="0"
                min="0"
                required
              />
              <label>Size 44:</label>
              <input
                type="number"
                name="size_44[]"
                value="0"
                min="0"
                required
              />
              <label>Size 46:</label>
              <input
                type="number"
                name="size_46[]"
                value="0"
                min="0"
                required
              />
              <% } %>
            </div>
          </div>
        </div>
      </div>

      <hr />

      <h2>Products</h2>
      <button type="button" onclick="addProductForm()">Add Product</button>

      <button type="submit">Submit</button>
    </form>

    <script>
      let productIndex = 1;

      function addProductForm() {
        const productsContainer = document.getElementById("products");
        const productTemplate = `
        <div class="product">
          <div class="product">
            <p>product Details:</p>
             <label>MRP:</label>
          <input type="text" name="product_mrp[]" required>
          <label>Discount:</label>
          <input type="text" name="product_discount[]" required>
          <label>Image URL:</label>
          <input type="text" name="product_image[]" required>

            <div class="size">
              <p>Size Details:</p>
              <% if (weartype === 'top') { %>
                <label>Size XS:</label>
                <input type="number" name="size_xs[]" value="0" min="0" required>
                <label>Size S:</label>
                <input type="number" name="size_s[]" value="0" min="0" required>
                <label>Size M:</label>
                <input type="number" name="size_m[]" value="0" min="0" required>
                <label>Size L:</label>
                <input type="number" name="size_l[]" value="0" min="0" required>
                <label>Size XL:</label>
                <input type="number" name="size_xl[]" value="0" min="0" required>
                <label>Size XXL:</label>
                <input type="number" name="size_xxl[]" value="0" min="0" required>
                <label>Size XXXL:</label>
                <input type="number" name="size_xxxl[]" value="0" min="0" required>
                <label>Size XXXXL:</label>
                <input type="number" name="size_xxxxl[]" value="0" min="0" required>
              <% } else if (weartype === 'bottom') { %>
                <label>Size 28:</label>
                <input type="number" name="size_28[]" value="0" min="0" required>
                <label>Size 30:</label>
                <input type="number" name="size_30[]" value="0" min="0" required>
                <label>Size 32:</label>
                <input type="number" name="size_32[]" value="0" min="0" required>
                <label>Size 34:</label>
                <input type="number" name="size_34[]" value="0" min="0" required>
                <label>Size 36:</label>
                <input type="number" name="size_36[]" value="0" min="0" required>
                <label>Size 38:</label>
                <input type="number" name="size_38[]" value="0" min="0" required>
                <label>Size 40:</label>
                <input type="number" name="size_40[]" value="0" min="0" required>
                <label>Size 42:</label>
                <input type="number" name="size_42[]" value="0" min="0" required>
                <label>Size 44:</label>
                <input type="number" name="size_44[]" value="0" min="0" required>
                <label>Size 46:</label>
                <input type="number" name="size_46[]" value="0" min="0" required>
              <% } %>
            </div>
          </div>
          
          <!-- Button to Remove Product Row -->
          <button type="button" onclick="removeProduct(this)">Remove Product</button>
        </div>
      `;
        const productNode = document.createElement("div");
        productNode.innerHTML = productTemplate.trim();
        productsContainer.appendChild(productNode.firstChild);

        productIndex++;
      }

      function removeProduct(button) {
        const productDiv = button.closest(".product");
        productDiv.remove();
      }
    </script>
  </body>
</html>
